{"version":3,"sources":["utils/firebase.js","helpers/functions.js","components/RecipeCard.js","components/Editable.js","components/RecipeEntry.js","App.js","index.js"],"names":["firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","reference","firestore","collection","addItems","id","field","items","doc","update","FieldValue","arrayUnion","removeItems","arrayRemove","updateItem","boolean","Card","docID","title","imgSrc","author","rating","description","timestamp","hasMade","notes","tags","url","useState","tagsToAdd","setTagsToAdd","notesToAdd","setNotesToAdd","isEditing","setIsEditing","open","setOpen","newRating","setNewRating","currentTab","setCurrentTab","closeModal","add","e","preventDefault","newTags","length","split","forEach","tag","note","remove","itemToRemove","target","closest","textContent","slice","ratingChanged","updateRating","className","src","onClick","o","trigger","modal","close","delete","starRatedColor","starEmptyColor","changeRating","numberOfStars","starDimension","starSpacing","name","type","value","onChange","console","log","checked","htmlFor","href","moment","format","closeOnDocumentClick","onClose","lines","more","less","anchorClass","expanded","width","onSubmit","placeholder","rows","map","i","Editable","childRef","text","children","parent","props","setEditing","useEffect","current","focus","onBlur","onKeyDown","key","keys","allKeys","indexOf","handleKeyDown","recipe","setRecipe","setIsOverlay","setUrl","setTitle","setImgSrc","setDescription","setAuthor","setTags","allNotes","setAllNotes","setHasMade","inputRef","useRef","ref","join","splitTags","Date","now","App","allRecipes","setAllRecipes","filteredRecipes","setFilteredRecipes","sortBy","setSortBy","query","setQuery","loadClient","isOverlay","unsubscribe","recipesRef","orderBy","sortOptions","column","direction","onSnapshot","snapshot","newRecipes","docs","data","searchAllRegex","RegExp","result","filter","test","connect","socket","socketIOClient","on","emit","scrapeData","style","display","Object","RecipeEntry","alt","currentTarget","disabled","RecipeCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bb10fa58.chunk.js","sourcesContent":["import * as firebase from 'firebase';\r\nimport 'firebase/firestore';\r\n\r\n// Firebase Config\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD9SrA01N_4vLdkCLrddWlCGQl_ylIszaI\",\r\n    authDomain: \"dog-ear-recipe-extension-4bfbf.firebaseapp.com\",\r\n    databaseURL: \"https://dog-ear-recipe-extension-4bfbf.firebaseio.com\",\r\n    projectId: \"dog-ear-recipe-extension-4bfbf\",\r\n    storageBucket: \"dog-ear-recipe-extension-4bfbf.appspot.com\",\r\n    messagingSenderId: \"147277096133\",\r\n    appId: \"1:147277096133:web:6e74a347d42254b231bcac\",\r\n    measurementId: \"G-5GEY75XZWH\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;","import firebase from \"../utils/firebase\";\r\n\r\nconst reference = firebase\r\n    .firestore()\r\n    .collection(\"recipes\")\r\n\r\nexport function create(args) {\r\n    reference\r\n        .add(...args)\r\n}\r\n\r\nexport function deleteEntry(id) {\r\n    reference\r\n        .doc(id)\r\n        .delete()\r\n}\r\n\r\nexport function addItems(id, field, items) {\r\n    switch (field) {\r\n        case \"tags\":\r\n            reference\r\n                .doc(id)\r\n                .update({\r\n                    \"tags\": firebase.firestore.FieldValue.arrayUnion(items)\r\n                })\r\n            break;\r\n        case \"notes\":\r\n            reference\r\n                .doc(id)\r\n                .update({\r\n                    \"notes\": firebase.firestore.FieldValue.arrayUnion(items)\r\n                })\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport function removeItems(id, field, items) {\r\n    switch (field) {\r\n        case \"tags\":\r\n            reference\r\n                .doc(id)\r\n                .update({\r\n                    \"tags\": firebase.firestore.FieldValue.arrayRemove(items)\r\n                })\r\n            break;\r\n        case \"notes\":\r\n            reference\r\n                .doc(id)\r\n                .update({\r\n                    \"notes\": firebase.firestore.FieldValue.arrayRemove(items)\r\n                })\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport function updateItem(id, boolean) {\r\n    reference\r\n        .doc(id)\r\n        .update({\r\n            \"hasMade\": !boolean\r\n        })\r\n}\r\n\r\nexport function updateRating(id, rating) {\r\n    reference\r\n        .doc(id)\r\n        .update({\r\n            \"rating\": rating\r\n        })\r\n}\r\n","import React, { useState } from 'react';\r\nimport moment from \"moment\";\r\nimport ShowMoreText from 'react-show-more-text';\r\nimport Popup from 'reactjs-popup';\r\nimport StarRatings from 'react-star-ratings';\r\nimport { addItems, deleteEntry, removeItems, updateItem, updateRating } from \"../helpers/functions\";\r\n\r\nconst Card = ({ docID, title, imgSrc, author, rating, description, timestamp, hasMade, notes, tags, url }) => {\r\n\r\n    const [tagsToAdd, setTagsToAdd] = useState(\"\");\r\n    const [notesToAdd, setNotesToAdd] = useState(\"\");\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [open, setOpen] = useState(false);\r\n    const [newRating, setNewRating] = useState(rating)\r\n    const [currentTab, setCurrentTab] = useState(1)\r\n    const closeModal = () => [setOpen(false), setCurrentTab(1)]\r\n\r\n    const add = (e, field) => {\r\n        e.preventDefault();\r\n        setIsEditing(false);\r\n\r\n        switch (field) {\r\n            case \"tags\":\r\n                let newTags = tagsToAdd;\r\n                if (newTags.length) {\r\n                    if (newTags.length === 1) {\r\n                        addItems(docID, \"tags\", newTags);\r\n                    } else {\r\n                        newTags = newTags.split(\",\")\r\n                        newTags.forEach(tag => {\r\n                            addItems(docID, \"tags\", tag);\r\n                        });\r\n                    }\r\n                    setTagsToAdd(\"\");\r\n                }\r\n                break;\r\n            case \"notes\":\r\n                let newNotes = notesToAdd\r\n                if (newNotes.length) {\r\n                    let newNotes = notesToAdd.split(\"\\n\\n\");\r\n                    newNotes.forEach(note => {\r\n                        addItems(docID, \"notes\", note);\r\n                    });\r\n                    setNotesToAdd(\"\");\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const remove = (e, field) => {\r\n        e.preventDefault();\r\n        let itemToRemove = e.target.closest(\"li\").textContent.slice(0, -1);\r\n\r\n        switch (field) {\r\n            case \"tags\":\r\n                removeItems(docID, \"tags\", itemToRemove)\r\n                break;\r\n            case \"notes\":\r\n                removeItems(docID, \"notes\", itemToRemove)\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const ratingChanged = (rating) => {\r\n        setNewRating(rating)\r\n        updateRating(docID, rating)\r\n    }\r\n\r\n    const renderTab1 = () => {\r\n        return (\r\n            <>\r\n                <div className=\"title\">\r\n                    <h2>{title}</h2>\r\n                </div>\r\n                <div className=\"title\">\r\n                    <p>Author: <strong><em>{author.length ? author : \"No Assigned Author\"}</em></strong></p>\r\n                </div>\r\n                <div className=\"rating-hasMade\">\r\n                    <div className=\"rating\">\r\n                        <StarRatings\r\n                            rating={newRating}\r\n                            starRatedColor=\"#f04a26\"\r\n                            starEmptyColor=\"#808080\"\r\n                            changeRating={ratingChanged}\r\n                            numberOfStars={5}\r\n                            starDimension=\"25px\"\r\n                            starSpacing=\"3px\"\r\n                            name='rating'\r\n                        />\r\n                        <button onClick={() => ratingChanged(0)}>Reset</button>\r\n                    </div>\r\n                    <div className=\"has-made\">\r\n                        <input type=\"checkbox\" className=\"check\" name=\"check\"\r\n                            value={hasMade}\r\n                            onChange={() => console.log(\"click\")}\r\n                            checked={hasMade}\r\n                        />\r\n                        <label\r\n                            htmlFor=\"check\"\r\n                            onClick={() => updateItem(docID, hasMade)}\r\n                        >Cooked</label>\r\n                    </div>\r\n                </div>\r\n                <div className={description ? \"description\" : \"description description-em\"}>\r\n                    <ShowMoreText\r\n                        lines={5}\r\n                        more='Show more'\r\n                        less='Show less'\r\n                        anchorClass='description-anchor'\r\n                        expanded={false}\r\n                        width={0}\r\n                    >\r\n                        {description ? description : \"There is no description for this recipe.\"}\r\n                    </ShowMoreText>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const renderTab2 = () => {\r\n        return (\r\n            <div className=\"tags-wrapper\">\r\n                <div className=\"tags-header\">\r\n                    <p><strong>Tagged As:</strong></p>\r\n                    {isEditing ? (\r\n                        <form\r\n                            onSubmit={e => add(e, \"tags\")}\r\n                        >\r\n                            <textarea\r\n                                name=\"tags\"\r\n                                placeholder=\"Enter ',' delimited tags\"\r\n                                rows=\"2\"\r\n                                value={tagsToAdd}\r\n                                onChange={e => setTagsToAdd(e.target.value)}\r\n                            />\r\n                            <button\r\n                                type=\"submit\"\r\n                            >{tagsToAdd.length > 0 ? \"Submit\" : \"Close\"}</button>\r\n                        </form>\r\n                    ) : (\r\n                            <p className=\"add\" onClick={() => setIsEditing(true)}>+</p>\r\n                        )}\r\n                </div>\r\n                {tags.length > 0 ?\r\n                    (\r\n                        <ul className=\"tags\">\r\n                            {tags.map((tag, i) => (\r\n                                <li\r\n                                    key={docID + i}\r\n                                >{tag}\r\n                                    <div className=\"delete-tag\" onClick={(e) => remove(e, \"tags\")}>\r\n                                        <span>x</span>\r\n                                    </div>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    )\r\n                    : (\r\n                        <p><em>This recipe has not been tagged yet</em></p>\r\n                    )\r\n                }\r\n                <div className=\"notes-wrapper\">\r\n                    <div className=\"notes\">\r\n                        {notes.length > 0 ? (\r\n                            <ol>\r\n                                {notes.map(note => (\r\n                                    <li\r\n                                        key={note}\r\n                                    >{note}\r\n                                        <div className=\"delete-note\" onClick={(e) => remove(e, \"notes\")}>\r\n                                            <span>x</span>\r\n                                        </div>\r\n                                    </li>\r\n                                ))}\r\n                            </ol>\r\n                        ) : (\r\n                                <p><em>There are no notes for this recipe yet.</em></p>\r\n                            )}\r\n                    </div>\r\n                    <div className=\"add-notes\">\r\n                        <form\r\n                            onSubmit={e => add(e, \"notes\")}\r\n                        >\r\n                            <textarea\r\n                                name=\"notes\"\r\n                                placeholder=\"Add additional notes here.\"\r\n                                rows=\"3\"\r\n                                value={notesToAdd}\r\n                                onChange={e => setNotesToAdd(e.target.value)}\r\n                            />\r\n                            <button type=\"submit\">Add Note</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            <div className=\"card-top\">\r\n                <img\r\n                    src={imgSrc ? imgSrc : \"./graphics/default_image.jpg\"}\r\n                    onClick={() => setOpen(o => !o)}\r\n                />\r\n                <Popup trigger={<span className=\"delete\"></span>} modal>\r\n                    {close => (\r\n                        <div className=\"delete-modal\">\r\n                            <button className=\"close\" onClick={close}>X</button>\r\n                            <div className=\"header\">Are You Sure that You Want to Delete this Recipe???</div>\r\n                            <button className=\"delete\" onClick={() => deleteEntry(docID)}>Delete this Recipe Entry</button>\r\n                        </div>\r\n                    )}\r\n                </Popup>\r\n            </div>\r\n            <div className=\"card-bottom\">\r\n                <div className=\"title-wrapper\">\r\n                    <h4 onClick={() => setOpen(o => !o)}>{title}</h4>\r\n                    <div className=\"rating-hasMade\">\r\n                        <div className=\"rating\">\r\n                            <StarRatings\r\n                                rating={newRating}\r\n                                starRatedColor=\"#f04a26\"\r\n                                starEmptyColor=\"#808080\"\r\n                                changeRating={ratingChanged}\r\n                                numberOfStars={5}\r\n                                starDimension=\"22px\"\r\n                                starSpacing=\"2px\"\r\n                                name='rating'\r\n                            />\r\n                        </div>\r\n                        <div className=\"has-made\">\r\n                            <input type=\"checkbox\" className=\"check\" name=\"check\"\r\n                                value={hasMade}\r\n                                onChange={() => console.log(\"click\")}\r\n                                checked={hasMade}\r\n                            />\r\n                            <label\r\n                                htmlFor=\"check\"\r\n                                onClick={() => updateItem(docID, hasMade)}\r\n                            >Cooked</label>\r\n                        </div>\r\n                    </div>\r\n                    {/* <p>Author: <strong><em>{author.length ? author : \"No Assigned Author\"}</em></strong></p> */}\r\n                </div>\r\n                <div className=\"link-wrapper\">\r\n                    <div className=\"link\">\r\n                        <a href={url} target=\"_blank\">Recipe Link</a>\r\n                    </div>\r\n                    <span className=\"timestamp\">Saved On: {moment(timestamp).format(\"MMMM Do YYYY\")}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <Popup open={open} closeOnDocumentClick onClose={closeModal}>\r\n                <div className=\"modal recipe-modal\">\r\n                    <div className=\"recipe-modal-central\">\r\n                        <div className=\"recipe-modal-inner\">\r\n                            <button className=\"close\" onClick={closeModal}>X</button>\r\n                            <div className=\"modal-img\">\r\n                                <div className=\"modal-img-back\">\r\n                                    <img\r\n                                        src={imgSrc ? imgSrc : \"./graphics/default_image.jpg\"} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"modal-info\">\r\n                                <div className=\"modal-info-inner\">\r\n                                    <div className=\"modal-info-inner-tabs\">\r\n                                        <ul>\r\n                                            <li className={currentTab === 1 ? \"active\" : \"\"}\r\n                                                onClick={() => setCurrentTab(1)}>\r\n                                                <h4>INFO</h4>\r\n                                            </li>\r\n                                            <li className={currentTab === 2 ? \"active\" : \"\"}\r\n                                                onClick={() => setCurrentTab(2)}>\r\n                                                <h4>TAGS/NOTES</h4>\r\n                                            </li>\r\n                                            <li>\r\n                                                <h4><a href={url} target=\"_blank\">GO TO RECIPE</a></h4>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                    <div className=\"modal-info-text\">\r\n                                        {currentTab === 1 ? (\r\n                                            [renderTab1()]\r\n                                        ) : (\r\n                                                [renderTab2()]\r\n                                            )}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Popup>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst Editable = ({\r\n    childRef,\r\n    text,\r\n    type,\r\n    placeholder,\r\n    children,\r\n    parent,\r\n    ...props\r\n}) => {\r\n\r\n    const [isEditing, setEditing] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (childRef && childRef.current && isEditing === true) {\r\n            childRef.current.focus();\r\n        }\r\n    }, [isEditing, childRef]);\r\n\r\n    const handleKeyDown = (e, type) => {\r\n        const { key } = e;\r\n        console.log(key)\r\n        const keys = [\"Escape\", \"Tab\"];\r\n        const enterKey = \"Enter\";\r\n        const allKeys = [...keys, enterKey]; // All keys array\r\n\r\n        if (\r\n            (type === \"textarea\" && keys.indexOf(key) > -1) ||\r\n            (type !== \"textarea\" && allKeys.indexOf(key) > -1)\r\n        ) {\r\n            setEditing(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <section {...props}>\r\n            {isEditing ? (\r\n                <div\r\n                    onBlur={() => setEditing(false)}\r\n                    onKeyDown={e => handleKeyDown(e, type)}\r\n                >\r\n                    {children}\r\n                </div>\r\n            ) : (\r\n                    <div\r\n                        onClick={() => setEditing(true)}\r\n                    >\r\n                        {parent === \"options_page\" ? (\r\n                            <p className=\"add\">+</p>\r\n                        ) : (\r\n                                <span>\r\n                                    {text || placeholder}\r\n                                </span>\r\n                            )}\r\n                    </div>\r\n                )}\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Editable;","import React, { useState, useRef } from 'react';\r\nimport Editable from \"../components/Editable\";\r\nimport firebase from \"../utils/firebase\";\r\n\r\nconst Card = ({ recipe, url, setRecipe, setIsOverlay, setUrl }) => {\r\n\r\n  const [title, setTitle] = useState(recipe.title);\r\n  const [imgSrc, setImgSrc] = useState(recipe.imgSrc);\r\n  const [description, setDescription] = useState(recipe.description);\r\n  const [author, setAuthor] = useState(recipe.author);\r\n  const [rating, setRating] = useState(0);\r\n  const [tags, setTags] = useState(recipe.tags);\r\n  const [allNotes, setAllNotes] = useState(\"\");\r\n  const [hasMade, setHasMade] = useState(false);\r\n  const inputRef = useRef();\r\n\r\n  const createEntry = () => {\r\n\r\n    let notes;\r\n\r\n    if (allNotes.length > 0) {\r\n      notes = allNotes.split(\"\\n\\n\")\r\n    } else {\r\n      notes = []\r\n    }\r\n\r\n    firebase\r\n      .firestore()\r\n      .collection(\"recipes\")\r\n      .add({\r\n        title,\r\n        imgSrc,\r\n        author,\r\n        rating,\r\n        description,\r\n        timestamp: Date.now(),\r\n        tags,\r\n        hasMade,\r\n        notes,\r\n        url\r\n      })\r\n    setRecipe({})\r\n    setIsOverlay(false)\r\n    setUrl(\"\");\r\n  }\r\n\r\n  const splitTags = tags => {\r\n    let split = tags.split(\",\")\r\n    setTags(split)\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-top\">\r\n        {imgSrc ?\r\n          <img src={imgSrc} />\r\n          :\r\n          <Editable\r\n            text={imgSrc}\r\n            placeholder='Right click on image, and click \"copy image address\". Paste address here.'\r\n            childRef={inputRef}\r\n            type=\"textarea\"\r\n          >\r\n            <textarea\r\n              ref={inputRef}\r\n              name=\"image source\"\r\n              placeholder='Right click on image, and click \"copy image address\". Paste address here.'\r\n              rows=\"5\"\r\n              value={imgSrc}\r\n              onChange={e => setImgSrc(e.target.value)}\r\n            />\r\n          </Editable>\r\n        }\r\n      </div>\r\n      <div className=\"card-bottom\">\r\n        <div className=\"title-wrapper\">\r\n          <h3>Title:</h3>\r\n          <div>\r\n            <label htmlFor=\"has-made\">Has Made:</label>\r\n            <input type=\"checkbox\" id=\"has-made\" name=\"has-made\" value={hasMade} onClick={() => setHasMade(!hasMade)} />\r\n          </div>\r\n        </div>\r\n        <Editable\r\n          text={title}\r\n          placeholder=\"Click Here to Add Recipe Title\"\r\n          childRef={inputRef}\r\n          type=\"textarea\"\r\n        >\r\n          <textarea\r\n            ref={inputRef}\r\n            name=\"title\"\r\n            placeholder=\"Click Here to Add Recipe Title\"\r\n            rows=\"5\"\r\n            value={title}\r\n            onChange={e => setTitle(e.target.value)}\r\n          />\r\n        </Editable>\r\n        <h3>Author:</h3>\r\n        <Editable\r\n          text={author}\r\n          placeholder=\"Click Here to Add Recipe Author\"\r\n          childRef={inputRef}\r\n          type=\"textarea\"\r\n        >\r\n          <textarea\r\n            ref={inputRef}\r\n            name=\"author\"\r\n            placeholder=\"Click Here to Add Recipe Author\"\r\n            rows=\"5\"\r\n            value={author}\r\n            onChange={e => setAuthor(e.target.value)}\r\n          />\r\n        </Editable>\r\n        <div className=\"description\">\r\n          <h3>Description:</h3>\r\n          <Editable\r\n            text={description}\r\n            placeholder=\"Click Here to Add Recipe Description\"\r\n            childRef={inputRef}\r\n            type=\"textarea\"\r\n          >\r\n            <textarea\r\n              ref={inputRef}\r\n              name=\"description\"\r\n              placeholder=\"Click Here to Add Recipe Description\"\r\n              rows=\"5\"\r\n              value={description}\r\n              onChange={e => setDescription(e.target.value)}\r\n            />\r\n          </Editable>\r\n        </div>\r\n        <div>\r\n          <h3>Tagged As:</h3>\r\n          <Editable\r\n            text={tags.join(\",\")}\r\n            placeholder=\"Click Here to Add Recipe Tags\"\r\n            childRef={inputRef}\r\n            type=\"textarea\"\r\n          >\r\n            <textarea\r\n              ref={inputRef}\r\n              name=\"tags\"\r\n              placeholder=\"Enter ',' separated tags here\"\r\n              rows=\"5\"\r\n              value={tags.join(\",\")}\r\n              onChange={e => splitTags(e.target.value)}\r\n            />\r\n          </Editable>\r\n        </div>\r\n        <div>\r\n          <h3>Additional Notes:</h3>\r\n          <Editable\r\n            text={allNotes}\r\n            placeholder=\"Click Here to Add Additional Notes\"\r\n            childRef={inputRef}\r\n            type=\"textarea\"\r\n          >\r\n            <textarea\r\n              ref={inputRef}\r\n              name=\"notes\"\r\n              placeholder=\"Add additional notes here.\"\r\n              rows=\"10\"\r\n              value={allNotes}\r\n              onChange={e => setAllNotes(e.target.value)}\r\n            />\r\n          </Editable>\r\n        </div>\r\n        <div className=\"link\">\r\n          <button onClick={createEntry} >Create Entry</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;","import React, { useState, useEffect } from 'react';\nimport RecipeCard from './components/RecipeCard';\nimport RecipeEntry from \"./components/RecipeEntry\";\nimport './App.scss';\nimport firebase from \"./utils/firebase\";\n\nimport socketIOClient from \"socket.io-client\";\n\nconst ENDPOINT = \"https://still-hamlet-76887.herokuapp.com/?EIO=3&transport=polling\";\n// const ENDPOINT = \"http://localhost:4001/\"\n\nfunction App() {\n\n  const [allRecipes, setAllRecipes] = useState([]);\n  const [filteredRecipes, setFilteredRecipes] = useState([]);\n  const [sortBy, setSortBy] = useState(\"TIME_DESC\");\n  const [query, setQuery] = useState(\"\");\n  const [loadClient, setLoadClient] = useState(true);\n  const [url, setUrl] = useState(\"\");\n  const [isOverlay, setIsOverlay] = useState(false);\n  const [recipe, setRecipe] = useState({});\n\n  useEffect(() => {\n\n    const recipesRef = firebase\n      .firestore()\n      .collection(\"recipes\")\n\n    let unsubscribe;\n\n    unsubscribe = recipesRef\n      .orderBy(sortOptions[sortBy].column, sortOptions[sortBy].direction)\n      .onSnapshot((snapshot) => {\n        const newRecipes = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data()\n        }))\n\n        setAllRecipes(newRecipes)\n        setFilteredRecipes(newRecipes)\n        setQuery(\"\")\n      })\n\n    return () => unsubscribe()\n  }, [sortBy])\n\n  useEffect(() => {\n    const searchAllRegex = query && new RegExp(`${query}`, \"gi\");\n    const result = allRecipes.filter(\n      recipe =>\n        (!searchAllRegex || searchAllRegex.test(recipe.title) + searchAllRegex.test(recipe.author) + searchAllRegex.test(recipe.tags))\n    );\n    setFilteredRecipes(result);\n  }, [query])\n\n  const scrapeData = () => {\n    setIsOverlay(true)\n    const socket = socketIOClient(ENDPOINT);\n    socket.on(\"connect\", function () {\n      socket.emit(\"from_client\", url);\n    });\n\n    socket.on(\"from_server\", data => {\n      console.log('Connection to server established.', data);\n      if (data === null) {\n        setRecipe({\n          title: \"\",\n          imgSrc: \"\",\n          author: \"\",\n          description: \"\",\n          tags: [],\n          notes: []\n        })\n      } else {\n        setRecipe(data);\n      }\n    });\n\n    // CLEAN UP THE EFFECT\n    return () => socket.disconnect();\n  }\n\n  const sortOptions = {\n    \"TIME_ASC\": { column: \"timestamp\", direction: \"asc\" },\n    \"TIME_DESC\": { column: \"timestamp\", direction: \"desc\" },\n    \"TITLE_ASC\": { column: \"title\", direction: \"asc\" },\n    \"TITLE_DESC\": { column: \"title\", direction: \"desc\" },\n    \"COOKED\": { column: \"hasMade\", direction: \"desc\" },\n    \"NOT_COOKED\": { column: \"hasMade\", direction: \"asc\" }\n  }\n\n  const disconnect = () => {\n    setIsOverlay(false);\n    setRecipe({});\n    setUrl(\"\");\n  }\n\n  const connect = (e) => {\n    e.preventDefault();\n    scrapeData();\n  }\n\n  return (\n    <div id=\"client_page\">\n      <div className=\"overlay\"\n        style={isOverlay && url.length ? { display: \"block\" } : { display: \"none\" }}\n      >\n        {loadClient && url && isOverlay ?\n          (<div className=\"entry_popup\">\n            {Object.keys(recipe).length ?\n              <>\n                <header className=\"popup-header\">\n                  <div className=\"back\">\n                    <button onClick={() => disconnect()}></button>\n                  </div>\n                  <h3><em>Example Recipe Entry:</em></h3>\n                </header>\n                <RecipeEntry\n                  recipe={recipe}\n                  key={recipe.id}\n                  url={url}\n                  setRecipe={setRecipe}\n                  setIsOverlay={setIsOverlay}\n                  setUrl={setUrl}\n                />\n              </>\n              :\n              <>\n                <div className=\"dog-loader\">\n                  <div className=\"dog-head\">\n                    <img src=\"http://www.clker.com/cliparts/j/3/Z/Y/D/5/dog-head-md.png\" />\n                  </div>\n                  <div className=\"dog-body\">\n                  </div>\n                </div>\n                <p className=\"dog-loader-p\"><em>Scraping data...</em></p>\n              </>\n            }\n          </div>)\n          :\n          <></>\n        }\n      </div>\n      <header className=\"page-header\">\n        <div className=\"titles\">\n          <h1>Dog-Ear</h1>\n          <h2>Recipe Repository</h2>\n        </div>\n        <div className=\"dog-image\">\n          <img src=\"./graphics/dog.png\" alt=\"Woof woof\" />\n        </div>\n      </header>\n      <div className=\"interaction-wrapper\">\n        <div className=\"search-sort\">\n          <div className=\"dropdown\">\n            <select value={sortBy} onChange={e => setSortBy(e.currentTarget.value)}>\n              <option value=\"TIME_DESC\">Newest</option>\n              <option value=\"TIME_ASC\">Oldest</option>\n              <option value=\"TITLE_ASC\">Title A-Z</option>\n              <option value=\"TITLE_DESC\">Title Z-A</option>\n              <option value=\"COOKED\">Has Been Cooked</option>\n              <option value=\"NOT_COOKED\">Has NOT Been Cooked</option>\n            </select>\n          </div>\n          <div className=\"search-wrapper\">\n            <div className=\"search\">\n              <input type=\"search\" placeholder=\"Search\" value={query} onChange={e => setQuery(e.target.value)} />\n              <span\n                className=\"cancel\"\n                onClick={() => setQuery(\"\")}>x</span>\n            </div>\n          </div>\n        </div>\n        <div className=\"scrape-wrapper\">\n          <div className=\"scrape\">\n            <form onSubmit={e => connect(e)}>\n              <label htmlFor=\"#scrape-input\">Create New Recipe Entry:</label>\n              <input type=\"text\"\n                className=\"scrape-text\"\n                id=\"scrape-input\"\n                placeholder=\"Paste URL Here\"\n                value={url} onChange={e => setUrl(e.target.value)}\n              />\n              <input className=\"scrape-submit\"\n                type=\"submit\"\n                value=\"Submit\"\n                disabled={url.length ? false : true} />\n            </form>\n          </div>\n        </div>\n      </div>\n      <div className=\"card-container\">\n        {filteredRecipes.map((recipe) => (\n          <RecipeCard\n            key={recipe.id}\n            docID={recipe.id}\n            title={recipe.title}\n            imgSrc={recipe.imgSrc}\n            author={recipe.author}\n            rating={recipe.rating}\n            description={recipe.description}\n            timestamp={recipe.timestamp}\n            hasMade={recipe.hasMade}\n            tags={recipe.tags}\n            notes={recipe.notes}\n            url={recipe.url}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}